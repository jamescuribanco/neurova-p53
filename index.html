<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neurova P53</title>

  <!-- Firebase SDK -->
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.2.0/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.2.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDAmEVU8J-uk2Yg6bL5n28xbP1771cHGME",
      authDomain: "neurovap53-cdbcf.firebaseapp.com",
      projectId: "neurovap53-cdbcf",
      storageBucket: "neurovap53-cdbcf.appspot.com",
      messagingSenderId: "558340314022",
      appId: "1:558340314022:web:2027622d3b86af54ddb567",
      measurementId: "G-70R7JRGVKG"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    const provider = new GoogleAuthProvider();

    window.loginWithGoogle = () => {
      signInWithPopup(auth, provider)
        .then((result) => {
          const user = result.user;
          sessionStorage.setItem('user', user.email);
          loadAlumnoPanel(user.email);
        })
        .catch((error) => {
          alert('Error al iniciar sesión: ' + error.message);
        });
    };
  </script>

  <style>
    body { font-family:'Segoe UI', sans-serif; margin:0; background:#f0f4f8; }
    header { background: linear-gradient(90deg,#93c5fd,#bae6fd); padding:20px; text-align:center; color:#0f172a; }
    nav a { margin:0 10px; text-decoration:none; color:#0f172a; font-weight:600; cursor:pointer; }
    .hidden { display:none; }
    .card { background:#fff; padding:20px; border-radius:16px; box-shadow:0 8px 20px rgba(0,0,0,0.1); margin:15px 0; }
    h2 { color:#1e3a8a; margin-bottom:15px; }
    button { padding:10px 18px; border:none; border-radius:12px; background:#2563eb; color:white; cursor:pointer; margin-top:10px; }
    button:hover { background:#1d4ed8; }
    .courses-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; }
    .week-card { border:1px solid #cbd5f5; border-radius:12px; padding:10px; margin:10px 0; }
  </style>
</head>
<body>

<header>
  <h1>Neurova P53</h1>
  <nav>
    <a onclick="showSection('inicio')">Inicio</a>
    <a onclick="showSection('cursos')">Cursos</a>
    <a onclick="showSection('horario')">Horario</a>
  </nav>
</header>

<div class="container" style="padding:20px; max-width:1200px; margin:auto;">

  <!-- LOGIN -->
  <div id="login" class="card">
    <h2>Iniciar sesión con Google</h2>
    <button onclick="loginWithGoogle()">Entrar con Google</button>
  </div>

  <!-- PANEL ALUMNO -->
  <div id="alumno-panel" class="hidden">
    <h2>Bienvenido, <span id="usuarioEmail"></span></h2>

    <h3>Mis cursos</h3>
    <div id="cursos-grid" class="courses-grid"></div>

    <div id="curso-detalle" class="hidden card"></div>

    <div id="horario" class="hidden card">
      <h2>Horario Semanal</h2>
      <p>Aquí se mostrará tu horario con los cursos que llevas.</p>
    </div>
  </div>

  <!-- PANEL ADMIN -->
  <div id="admin-panel" class="hidden">
    <h2>Panel Administrador</h2>
    <div id="admin-alumnos" class="card">
      <h3>Lista de alumnos y horarios</h3>
      <p>Se mostrará todo el detalle de horarios por alumno.</p>
    </div>
  </div>

</div>

<script>
  const cursos = [
    {
      nombre:'Morfofisiología I',
      semanas:[
        {sem:'1', fisiologia:'Membrana celular...', histologia:'Procesamiento histológico...'},
        {sem:'2', fisiologia:'Transmisión de señales...', histologia:'Tejido óseo...'},
        {sem:'3', fisiologia:'Neurotransmisores...', histologia:'Tejido muscular...'},
        {sem:'4', fisiologia:'Metabolismo óseo...', histologia:'Introducción al sistema vascular...'},
        {sem:'5', fisiologia:'Sangre y sus propiedades...', histologia:'Tejido epitelial...'},
        {sem:'6', fisiologia:'Fisiología eritrocitaria II...', histologia:'Matriz extracelular...'},
        {sem:'7', fisiologia:'Sistema inmunológico...', histologia:'Tejido linfoide...'},
        {sem:'8', fisiologia:'Respuesta inflamatoria...', histologia:'Sistema tegumentario...'}
      ]
    },
    {
      nombre:'Morfofisiología II',
      subcursos:['Fisiología','Histología','Anatomía'],
      semanas:[
        {sem:'1', F:'Hemodinamia...', H:'Histología cardiovascular...', A:'Pared torácica...'},
        {sem:'2', F:'ECG I...', H:'Histología vascular...', A:'Mediastino superior...'},
        {sem:'3', F:'Presión arterial...', H:'Integración histología...', A:'Mediastino medio II...'},
        {sem:'4', F:'Mecánica respiratoria...', H:'Integración histología...', A:'Mediastino posterior...'},
        {sem:'5', F:'Intercambio de gases...', H:'Embriología respiratoria...', A:'Pulmones...'},
        {sem:'6', F:'Filtración y reabsorción...', H:'Embriología riñón...', A:'Columna vertebral...'},
        {sem:'7', F:'Electrolitos y ácido-base...', H:'Histología vías urinarias...', A:'Radioanatomía columna...'},
        {sem:'8', F:'Fisiología grandes alturas...', H:'Histopatología renal...', A:'Radioanatomía riñón...'}
      ]
    },
    {nombre:'Anatomía General', semanas:[
      {sem:'1', tema:'Hombro, Axila, Brazo y Codo'},
      {sem:'2', tema:'Antebrazo, Muñeca y Mano'},
      {sem:'3', tema:'Región Glútea, Cadera, Muslo y Rodilla'},
      {sem:'4', tema:'Pierna, Región Poplítea, Tobillo y Pie'},
      {sem:'5', tema:'Vértebras cervicales, regiones y triángulos del cuello'},
      {sem:'6', tema:'Vísceras del cuello, Cabeza ósea'},
      {sem:'7', tema:'Músculos mímica/masticación y Regiones profundas de la cara'},
      {sem:'8', tema:'Cavidad oral, fosas nasales y paredes de tronco'}
    ]},
    {nombre:'Biología Celular', semanas:[
      {sem:'1', teoria:'Niveles de organización...', laboratorio:'Normas de Bioseguridad...'},
      {sem:'2', teoria:'Aminoácidos, proteínas...', laboratorio:'Identificación de proteínas...'},
      {sem:'3', teoria:'La célula...', laboratorio:'Célula procariota...'},
      {sem:'4', teoria:'Citoesqueleto...', laboratorio:'Diversidad celular...'},
      {sem:'5', teoria:'Sistema de endomembranas...', laboratorio:'Fraccionamiento celular...'},
      {sem:'6', teoria:'Núcleo celular...', laboratorio:'Observación núcleo...'},
      {sem:'7', teoria:'Traducción...', laboratorio:'Síntesis de proteínas...'},
      {sem:'8', teoria:'Señalización celular...', laboratorio:'Tecnología ADN recombinante...'}
    ]},
    {nombre:'Bioquímica', semanas:[
      {sem:'1', teoria:'Bioelementos y biomoléculas...', laboratorio:'Espectrofotometría...'},
      {sem:'2', teoria:'Aminoácidos y proteínas...', laboratorio:'Determinación de proteínas...'},
      {sem:'3', teoria:'Enzimas y cinética...', laboratorio:'Degradación de proteínas...'},
      {sem:'4', teoria:'Metabolismo carbohidratos...', laboratorio:'Concentración de urea...'},
      {sem:'5', teoria:'Glucógeno y bioenergética...', laboratorio:'Metabolismo en ayuno...'},
      {sem:'6', teoria:'Metabolismo de lípidos...', laboratorio:'Digestión enzimática...'},
      {sem:'7', teoria:'Colesterol y ácidos nucleicos...', laboratorio:'Perfil lipídico...'},
      {sem:'8', teoria:'Síntesis de proteínas...', laboratorio:'Ácido úrico y ADN...'}
    ]}
  ];

  function loadAlumnoPanel(email){
    document.getElementById('login').classList.add('hidden');
    document.getElementById('alumno-panel').classList.remove('hidden');
    document.getElementById('usuarioEmail').innerText = email;

    const grid = document.getElementById('cursos-grid');
    cursos.forEach(c => {
      const div = document.createElement('div');
      div.className = 'card';
      div.innerHTML = `<h3>${c.nombre}</h3><button onclick='abrirCurso("${c.nombre}")'>Entrar al curso</button>`;
      grid.appendChild(div);
    });
  }

  function showSection(id){
    ['inicio','cursos','horario'].forEach(s=>{ document.getElementById(s).classList?.add('hidden'); });
    document.getElementById(id)?.classList.remove('hidden');
  }

  function abrirCurso(nombre){
    const curso = cursos.find(c => c.nombre===nombre);
    const cont = document.getElementById('curso-detalle');
    cont.classList.remove('hidden');
    cont.innerHTML = `<h2>${curso.nombre}</h2>`;

    if(curso.semanas[0].fisiologia){
      // Morfofisiología 1 y 2 estilo semana/tema
      curso.semanas.forEach(s => {
        const w = document.createElement('div');
        w.className = 'week-card';
        w.innerHTML = `<strong>Semana ${s.sem}</strong><br/>Fisiología: ${s.fisiologia || s.F || ''}<br/>Histología: ${s.histologia || s.H || ''}<br/>Anatomía: ${s.A || ''}<br/><button>Ver grabación</button> <button>Ver PDF</button> <button>Apliquemos lo aprendido</button>`;
        cont.appendChild(w);
      });
    } else {
      // Cursos simples
      curso.semanas.forEach(s => {
        const w = document.createElement('div');
        w.className = 'week-card';
        w.innerHTML = `<strong>Semana ${s.sem}</strong><br/>Tema: ${s.tema || s.teoria || ''}<br/>Laboratorio: ${s.laboratorio || ''}<br/><button>Ver grabación</button> <button>Ver PDF</button> <button>Apliquemos lo aprendido</button>`;
        cont.appendChild(w);
      });
    }
  }
</script>

</body>
</html>
